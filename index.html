<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="Ping Rewards ·Äû·Ää·Ä∫ Watch video , Complete social tasks , Earn points , Get rewards , Cash out platform ·Äê·ÄÖ·Ä∫·ÄÅ·ÄØ·Äñ·Äº·ÄÖ·Ä∫·Äû·Ää·Ä∫·Åã">
    <meta name="keywords"
        content="Ping Rewards, Money Making, Earn Money, Watch Videos, Social Tasks, Points, Rewards, Cash Out, Online Earning, Video Rewards, Task Completion, Referral Program">
    <meta property="og:description"
        content="Ping Rewards ·Äû·Ää·Ä∫ video ·ÄÄ·Äº·Ää·Ä∑·Ä∫·ÄÅ·Äº·ÄÑ·Ä∫·Ä∏·Äî·Äæ·ÄÑ·Ä∑·Ä∫ social tasks ·Äï·Äº·ÄØ·Äú·ÄØ·Äï·Ä∫·ÄÅ·Äº·ÄÑ·Ä∫·Ä∏·Ä°·Ä¨·Ä∏·Äñ·Äº·ÄÑ·Ä∑·Ä∫ ·Ä°·ÄΩ·Äî·Ä∫·Äú·Ä≠·ÄØ·ÄÑ·Ä∫·Ä∏·Äê·ÄΩ·ÄÑ·Ä∫·Äï·Ä≠·ÄØ·ÄÄ·Ä∫·ÄÜ·Ä∂·Äõ·Äæ·Ä¨·Äñ·ÄΩ·Ä±·Äõ·Äî·Ä∫·Ä°·Äê·ÄΩ·ÄÄ·Ä∫ platform ·Äê·ÄÖ·Ä∫·ÄÅ·ÄØ·Äñ·Äº·ÄÖ·Ä∫·Äû·Ää·Ä∫·Åã">
    <!-- NAMO TASSA BHAGAVATO ARAHATO SAMMA SAMBUDDHASSa -->
    <title>Ping Rewards</title>
    <link rel="icon" type="image/svg+xml"
        href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%236366f1' d='M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 14H9v-4h2.5c1.38 0 2.5-1.12 2.5-2.5S12.88 7 11.5 7H9v-2h2.5C14.43 5 16 6.57 16 8.5S14.43 12 11.5 12H9v4h4v-2z'/%3E%3C/svg%3E">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- Tailwind CSS (CDN) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary': '#6366f1',  /* Indigo */
                        'secondary': '#f9a8d4', /* Pink */
                        'background': '#0f172a', /* Slate 900 */
                        'card-bg': '#1e293b', /* Slate 800 */
                        'text-color': '#e2e8f0', /* Slate 200 */
                        'muted-text': '#94a3b8', /* Slate 400 */
                        'accent-green': '#10b981', /* Emerald */
                        'accent-orange': '#f59e0b', /* Amber */
                        'accent-purple': '#a855f7', /* Purple */
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    keyframes: {
                        spin: {
                            '0%': { transform: 'rotate(0deg)' },
                            '100%': { transform: 'rotate(360deg)' },
                        },
                        coinFly: {
                            '0%': { transform: 'translateY(0) scale(1)', opacity: '1' },
                            '100%': { transform: 'translateY(-100px) scale(0.5)', opacity: '0' },
                        }
                    },
                    animation: {
                        spin: 'spin 1s linear infinite',
                        coin: 'coinFly 1s ease-in-out forwards',
                    }
                }
            }
        }
        
    </script>
    <style>
        
        /* General Styles for the entire app */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0f172a;
            color: #e2e8f0;
            margin: 0;
            overflow-x: hidden;
        }
        .sidebar.open {
            transform: translateX(0);
        }

        .backdrop.open {
            display: block;
        }

        .no-scroll {
            overflow: hidden;
        }

        .coin-icon {
            animation: coinFly 1s ease-in-out forwards;
        }

        .modal-overlay {
            background-color: rgba(0, 0, 0, 0.7);
        }
        /* Animation */
         @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
        @keyframes scroll {
            0% { transform: translateX(0); }
            100% { transform: translateX(-50%); }
        }
        
        .animate-scroll {
            animation: scroll 12s linear infinite; 
        }

        .animate-scroll:hover {
            animation-play-state: paused;
        }
        /* NEW: Circular Progress Bar Styles */
        .circular-progress-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1001;
            width: 80px;
            height: 80px;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #1e293b; /* card-bg */
            border-radius: 50%;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
            border: 2px solid #6366f1; /* primary */
        }
        .circular-progress {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            display: grid;
            place-items: center;
            background: conic-gradient(#f59e0b 0deg, #1e293b 0deg); /* Amber color */
        }
        .progress-value {
            position: absolute;
            font-size: 1rem;
            font-weight: 700;
            color: #f59e0b; /* Amber */
        }
        /* Make app-content scrollable on small screens */
        #app-content {
            overflow-y: auto;
            height: 100vh;
        }
    </style>
</head>

<body class="bg-background text-text-color">

    <!-- Loading Overlay -->
    <div id="loading-overlay"
        class="fixed inset-0 bg-background bg-opacity-70 flex justify-center items-center z-[1002] transition-opacity duration-300 opacity-0 pointer-events-none">
        <div class="animate-spin rounded-full h-12 w-12 border-4 border-text-color border-t-primary"></div>
    </div>

    <!-- START: Login Page View (This is shown only when user needs to log in) -->
    <div id="login-page" class="view flex justify-center items-center min-h-screen p-4" style="display: none;">
        <div class="w-full max-w-sm text-center">
            <div class="mb-8">
                <!-- New Logo SVG: Letter 'P' -->
                <svg class="w-20 h-20 mx-auto fill-primary" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <path
                        d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 14H9v-4h2.5c1.38 0 2.5-1.12 2.5-2.5S12.88 7 11.5 7H9v-2h2.5C14.43 5 16 6.57 16 8.5S14.43 12 11.5 12H9v4h4v-2z" />
                </svg>
                <div class="text-2xl font-bold mt-2">Ping Rewards</div>
                <div class="text-muted-text mt-1">Get rewarded for watching videos.</div>
            </div>
            <div class="bg-card-bg p-8 rounded-xl shadow-lg border border-slate-700">
                <h2 class="text-xl font-semibold mb-6">Welcome to Ping Rewards</h2>
                <p id="login-message" class="text-red-500 text-sm mb-4" style="display: none;"></p>
                <button id="google-sign-in-btn"
                    class="w-full py-3 bg-primary hover:bg-indigo-600 text-white font-semibold rounded-lg transition-colors duration-300 flex items-center justify-center gap-3">
                    <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path fill="#ffffff"
                            d="M22.4 12.2c0-.7-.1-1.3-.2-1.9H12v3.8h5.3c-.2 1.2-.8 2.2-1.6 3l3.2 2.5c2.1-1.9 3.4-4.7 3.4-8.4z" />
                        <path fill="#ffffff"
                            d="M12 22c3.2 0 5.9-1.1 7.8-3l-3.2-2.5c-1 1.2-2.3 1.9-4.6 1.9-3.5 0-6.5-2.4-7.6-5.6l-3.3 2.5c1.4 2.8 4.4 4.8 7.9 4.8z" />
                        <path fill="#ffffff"
                            d="M4.4 12.2c0-1.6.4-3.1 1.2-4.4L2.3 5.4C.9 7.7 0 10 0 12.2c0 2.2.9 4.5 2.3 6.8l3.3-2.4c-.8-1.3-1.2-2.8-1-1.4z" />
                        <path fill="#ffffff"
                            d="M12 4.1c1.8 0 3.3.6 4.6 1.8L19.4 3C17.5 1.1 14.8 0 12 0c-3.5 0-6.5 2-7.9 4.8l3.3 2.4C8.7 5.7 10.2 5 12 5z" />
                    </svg>
                    Sign in with Google
                </button>
            </div>
        </div>
    </div>
    <!-- END: Login Page View -->

    <!-- Main Application Container (Visible initially for guest mode) -->
    <div id="app-container" class="view flex flex-col md:flex-row w-full min-h-screen" style="display: flex;">
        <!-- Sidebar -->
        <div id="sidebar"
            class="sidebar fixed md:relative z-[100] md:z-0 top-0 left-0 w-64 h-full bg-card-bg shadow-lg transform -translate-x-full transition-transform duration-300 ease-in-out md:translate-x-0">
            <div class="p-6 pb-4 border-b border-slate-700 flex items-center">
                <!-- New Logo SVG: Letter 'P' -->
                <svg class="w-10 h-10 fill-primary" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <path
                        d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 14H9v-4h2.5c1.38 0 2.5-1.12 2.5-2.5S12.88 7 11.5 7H9v-2h2.5C14.43 5 16 6.57 16 8.5S14.43 12 11.5 12H9v4h4v-2z" />
                </svg>
                <span class="text-xl font-bold ml-2">Ping Rewards</span>
            </div>
            <ul class="flex flex-col p-4 space-y-2">
                <li>
                    <a href="#"
                        class="nav-link user-link flex items-center p-3 rounded-lg hover:bg-primary/20 transition-colors duration-200"
                        data-target="user-dashboard-view">
                        <svg class="w-6 h-6 mr-3 fill-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                            <path
                                d="M3 13h11v-2H3v2zm0 4h11v-2H3v2zm0-8h11V7H3v2zm13 .01V7h5v2.01h-5zM16 17h5v-2h-5v2zm0-4h5v-2h-5v2z" />
                        </svg>
                        Dashboard
                    </a>
                </li>
                <li>
                    <a href="#"
                        class="nav-link user-link flex items-center p-3 rounded-lg hover:bg-primary/20 transition-colors duration-200"
                        data-target="watch-videos-view">
                        <svg class="w-6 h-6 mr-3 fill-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                            <path
                                d="M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z" />
                        </svg>
                        Watch Videos
                    </a>
                </li>
                <li>
                    <a href="#"
                        class="nav-link user-link flex items-center p-3 rounded-lg hover:bg-primary/20 transition-colors duration-200"
                        data-target="social-tasks-view">
                        <svg class="w-6 h-6 mr-3 fill-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                            <path
                                d="M22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6zm-11 4c0 1.1-.9 2-2 2H5c-1.1 0-2-.9-2-2V8c0-1.1.9-2 2-2h4c1.1 0 2 .9 2 2v2zm-2 5c-.55 0-1-.45-1-1v-1h2v1c0 .55-.45 1-1 1zm4 0c-.55 0-1-.45-1-1v-1h2v1c0 .55-.45 1-1 1zm4 0c-.55 0-1-.45-1-1v-1h2v1c0 .55-.45 1-1 1zm-8-3c0 .55-.45 1-1 1s-1-.45-1-1v-1h2v1zM20 8v2h-2V8h2zM12 8h4v2h-4V8zm4 7c0 .55-.45 1-1 1s-1-.45-1-1v-1h2v1z" />
                        </svg>
                        Social Tasks
                    </a>
                </li>
                <li>
                    <a href="#"
                        class="nav-link user-link flex items-center p-3 rounded-lg hover:bg-primary/20 transition-colors duration-200"
                        data-target="points-history-view">
                        <svg class="w-6 h-6 mr-3 fill-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                            <path
                                d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z" />
                        </svg>
                        Points History
                    </a>
                </li>
                <!-- START NEW: Invite & Earn Link -->
                <li>
                    <a href="#"
                        class="nav-link user-link flex items-center p-3 rounded-lg hover:bg-primary/20 transition-colors duration-200"
                        data-target="invite-and-earn-view">
                        <svg class="w-6 h-6 mr-3 fill-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                            <path d="M16 12.01c-.01-2.22-1.8-4.01-4-4.01H7c-2.21 0-4 1.79-4 4.01v4.99c0 2.22 1.8 4.01 4 4.01h5c2.21 0 4-1.79 4-4.01v-1.99c0-.55-.45-1-1-1s-1 .45-1 1v1.99c0 1.11-.89 2.01-2 2.01H7c-1.11 0-2-.89-2-2.01v-4.99c0-1.11.89-2.01 2-2.01h5c.55 0 1-.45 1-1s-.45-1-1-1H7c-3.31 0-6 2.69-6 6v4.99c0 3.31 2.69 6 6 6h5c3.31 0 6-2.69 6-6v-1.99c0-.55-.45-1-1-1s-1 .45-1 1v1.99c0 1.11-.89 2.01-2 2.01zM19 8h-4c-1.1 0-2 .9-2 2v4c0 1.1.9 2 2 2h4c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 4h-4v-2h4v2z"/>
                        </svg>
                        Invite & Earn
                    </a>
                </li>
                <!-- END NEW: Invite & Earn Link -->
                <li>
                    <a href="#"
                        class="nav-link user-link flex items-center p-3 rounded-lg hover:bg-primary/20 transition-colors duration-200"
                        data-target="about-view">
                        <svg class="w-6 h-6 mr-3 fill-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                            <path
                                d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 14h-2v-2h2v2zm0-4h-2V7h2v5z" />
                        </svg>
                        About
                    </a>
                </li>
                <li
                    style="padding:1rem 0;font-size:1.15rem;cursor:pointer;border-bottom:1px solid #ffe0e9;color:#ff69b4;transition:background 0.2s, color 0.2s;">
                </li>
                <li>
                    <a href="https://t.me/Mr_PingGP" target="_blank"
                        style="display:flex;align-items:center;text-decoration:none;color:#ff69b4;">
                        <span style="display:inline-block;width:24px;height:24px;margin-right:20px;">
                            <svg style="width:100%;height:100%;fill:currentColor;" xmlns="http://www.w3.org/2000/svg"
                                viewBox="0 0 24 24">
                                <path
                                    d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 14h-2v-2h2v2zm0-4h-2V7h2v5z" />
                            </svg>
                        </span>
                        Help
                    </a>
                </li>

                <!-- FIX 1: Hide Admin links by default using inline style to prevent flicker -->
                <hr class="my-4 border-slate-700 admin-link" style="display: none;">

                <li class="admin-link" style="display: none;">
                    <a href="#"
                        class="nav-link flex items-center p-3 rounded-lg hover:bg-primary/20 transition-colors duration-200"
                        data-target="admin-dashboard-view">
                        <svg class="w-6 h-6 mr-3 fill-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                            <path
                                d="M3 13h11v-2H3v2zm0 4h11v-2H3v2zm0-8h11V7H3v2zm13 .01V7h5v2.01h-5zM16 17h5v-2h-5v2zm0-4h5v-2h-5v2z" />
                        </svg>
                        Admin Dashboard
                    </a>
                </li>
                <li class="admin-link" style="display: none;">
                    <a href="#"
                        class="nav-link flex items-center p-3 rounded-lg hover:bg-primary/20 transition-colors duration-200"
                        data-target="manage-videos-view">
                        <svg class="w-6 h-6 mr-3 fill-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                            <path
                                d="M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z" />
                        </svg>
                        Manage Videos
                    </a>
                </li>
                <li class="admin-link" style="display: none;">
                    <a href="#"
                        class="nav-link flex items-center p-3 rounded-lg hover:bg-primary/20 transition-colors duration-200"
                        data-target="manage-social-tasks-view">
                        <svg class="w-6 h-6 mr-3 fill-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                            <path
                                d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 10V8h4v4h3l-5 5-5-5h3z" />
                        </svg>
                        Manage Social Tasks
                    </a>
                </li>
                <li class="admin-link" style="display: none;">
                    <a href="#"
                        class="nav-link flex items-center p-3 rounded-lg hover:bg-primary/20 transition-colors duration-200"
                        data-target="manage-users-view">
                        <svg class="w-6 h-6 mr-3 fill-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                            <path
                                d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z" />
                        </svg>
                        Manage Users
                    </a>
                </li>
            </ul>
            <div id="sidebar-profile" class="p-6 border-t border-slate-700 mt-auto">
                <!-- Profile info  -->
            </div>
        </div>

        <div id="backdrop" class="backdrop fixed inset-0 bg-black bg-opacity-50 z-[99] hidden md:hidden"></div>

        <!-- Main Content Area -->
        <div id="app-content" class="flex-grow p-4 md:p-6 transition-all duration-300 ease-in-out">
            <header class="flex justify-between items-center mb-6">
                <h1 id="page-title" class="text-2xl md:text-3xl font-bold flex items-center">
                    <button id="menu-toggle"
                        class="md:hidden p-2 -ml-2 rounded-md hover:bg-card-bg transition-colors duration-200">
                        <svg class="w-6 h-6 fill-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
                            fill="currentColor">
                            <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z" />
                        </svg>
                    </button>
                    Dashboard
                </h1>
                <div id="header-meta" class="hidden md:flex items-center space-x-4">
                    <!-- Header meta info -->
                </div>
            </header>

            <!-- User Dashboard View -->
            <div id="user-dashboard-view" class="content-view" style="display: none;">
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mb-6">
                    <div
                        class="card bg-card-bg p-6 rounded-xl shadow-md border border-slate-700 col-span-1 lg:col-span-3 flex flex-col md:flex-row justify-between items-center">
                         <!-- Container -->
                                    <div class="w-full max-w-7xl overflow-hidden bg-yellow-400 border-y-0 border-yellow-600 py-0 shadow-2xl rounded-4">
                                        <div class="flex animate-scroll min-w-max">
                                            <span class="text-sm sm:text-sm font-extrabold text-gray-900 uppercase tracking-wide whitespace-nowrap px-0">
                                                üéâ ·Ä°·Äõ·Ä±·Ä∏·ÄÄ·Äº·ÄÆ·Ä∏·Äû·Ää·Ä∫ About ·ÄÄ·Ä≠·ÄØ ·Äî·Ä≠·Äï·Ä∫·Äï·Äº·ÄÆ·Ä∏ ·ÄÖ·Ää·Ä∫·Ä∏·ÄÄ·Äô·Ä∫·Ä∏·ÄÅ·Äª·ÄÄ·Ä∫·ÄÄ·Ä≠·ÄØ ·Ä°·Äõ·ÄÑ·Ä∫·Äñ·Äê·Ä∫·Äï·Ä±·Ä∏·Äï·Ä´ üéâ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                            </span>
                                            <span class="text-sm sm:text-sm font-extrabold text-gray-900 uppercase tracking-wide whitespace-nowrap px-0">
                                                üéâ Important: Please click 'About' and read the rules first. üéâ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                            </span>
                                            
                                        </div>
                                    </div>
                            <!-- Container -->
                        <div>
                            
                                   
                            <h2 id="welcome-message" class="text-xl font-semibold mb-2"></h2>
                            <p class="text-muted-text">Ready to earn more points? Let's start watching some videos.</p>
                        </div>
                        <a href="#"
                            class="nav-link user-link mt-4 md:mt-0 px-6 py-3 bg-primary hover:bg-indigo-600 text-white font-semibold rounded-lg transition-colors duration-300 whitespace-nowrap"
                            data-target="watch-videos-view">
                            Watch Now
                        </a>
                    </div>
                    <div class="card bg-card-bg p-6 rounded-xl shadow-md border border-slate-700">
                        <h2 class="text-lg font-semibold mb-2 text-muted-text">Total Points</h2>
                        <div class="text-4xl font-bold text-primary" id="total-points-value">0</div>
                    </div>
                    <div class="card bg-card-bg p-6 rounded-xl shadow-md border border-slate-700">
                        <h2 class="text-lg font-semibold mb-2 text-muted-text">Estimated Earnings</h2>
                        <div class="text-4xl font-bold text-accent-green" id="estimated-earnings-value">$0.00</div>
                    </div>
                    <div class="card bg-card-bg p-6 rounded-xl shadow-md border border-slate-700">
                        <h2 class="text-lg font-semibold mb-2 text-muted-text">Videos Watched</h2>
                        <div class="text-4xl font-bold text-accent-purple" id="videos-watched-value">0</div>
                    </div>
                </div>
                <!-- Leaderboard Section -->
                <div class="mt-6">
                    <h2 class="text-xl font-semibold mb-4">üèÜ Top Earners</h2>
                    <div id="leaderboard-container" class="space-y-3">
                        <!-- Leaderboard items will be dynamically rendered here by JS -->
                        <div class="text-center text-muted-text p-4">Loading leaderboard...</div>
                    </div>
                </div>

                <div class="quick-actions mb-6">
                    <h2 class="text-xl font-semibold mb-4">Quick Actions</h2>
                    <div class="flex flex-wrap gap-4">
                        <a href="#"
                            class="nav-link user-link px-6 py-3 bg-card-bg border border-slate-700 rounded-lg text-text-color hover:bg-slate-700 transition-colors duration-200"
                            data-target="watch-videos-view">
                            Watch Videos
                        </a>
                        <a href="#"
                            class="nav-link user-link px-6 py-3 bg-card-bg border border-slate-700 rounded-lg text-text-color hover:bg-slate-700 transition-colors duration-200"
                            data-target="points-history-view">
                            View History
                        </a>
                        <a href="#"
                            class="nav-link user-link px-6 py-3 bg-card-bg border border-slate-700 rounded-lg text-text-color hover:bg-slate-700 transition-colors duration-200"
                            data-target="social-tasks-view">
                            Complete Tasks
                        </a>
                    </div>
                </div>

                <div
                    class="card bg-card-bg p-6 rounded-xl shadow-md border border-slate-700 flex flex-col md:flex-row justify-between items-center">
                    <div>
                        <h2 class="text-xl font-semibold mb-2">Cash Out Points</h2>
                        <p class="text-muted-text">5000 Points = $1.00</p>
                        <p class="text-muted-text">Keep watching to increase your earnings.</p>
                    </div>
                    <button
                        class="cashout-btn mt-4 md:mt-0 px-6 py-3 bg-primary text-white font-semibold rounded-lg transition-colors duration-300 whitespace-nowrap"
                        id="cashout-button">
                        Cash Out
                    </button>
                </div>
            </div>

            <!-- Watch Videos View -->
            <div id="watch-videos-view" class="content-view" style="display: none;">

                <div class="flex flex-col sm:flex-row gap-4 mb-6">
                    <input type="text" id="search-bar"
                        class="flex-grow px-4 py-2 rounded-full bg-card-bg border border-slate-700 focus:outline-none focus:ring-2 focus:ring-primary placeholder-muted-text"
                        placeholder="Search videos...">
                    <div class="flex flex-wrap justify-center sm:justify-end gap-2">
                        <button
                            class="filter-btn active px-4 py-2 rounded-full border border-primary bg-primary text-white text-sm hover:bg-primary/80 transition-all duration-300 hover:scale-105 active:scale-95"
                            data-category="all">All</button>
                        <button
                            class="filter-btn px-4 py-2 rounded-full border border-slate-700 bg-card-bg text-sm hover:bg-slate-700 transition-all duration-300 hover:scale-105 active:scale-95"
                            data-category="Nature">Nature</button>
                        <button
                            class="filter-btn px-4 py-2 rounded-full border border-slate-700 bg-card-bg text-sm hover:bg-slate-700 transition-all duration-300 hover:scale-105 active:scale-95"
                            data-category="Education">Education</button>
                        <button
                            class="filter-btn px-4 py-2 rounded-full border border-slate-700 bg-card-bg text-sm hover:bg-slate-700 transition-all duration-300 hover:scale-105 active:scale-95"
                            data-category="Travel">Travel</button>
                        <button
                            class="filter-btn px-4 py-2 rounded-full border border-slate-700 bg-card-bg text-sm hover:bg-slate-700 transition-all duration-300 hover:scale-105 active:scale-95"
                            data-category="Food">Food</button>
                        <button
                            class="filter-btn px-4 py-2 rounded-full border border-slate-700 bg-card-bg text-sm hover:bg-slate-700 transition-all duration-300 hover:scale-105 active:scale-95"
                            data-category="Gaming">Gaming</button>
                    </div>
                </div>
                <!-- Ad Placement at the Top of Video Grid -->
                <div>
                    <script>
                        const delayInMilliseconds = 1000;
                
                        function loadAdScript() {
                            const script = document.createElement('script');
                            script.type = 'text/javascript'; 
                            script.src = '//institutionnounreverend.com/25/d1/54/25d154cfe2cdfcc85914d10a0b4a6eae.js';
                            const targetDiv = document.querySelector('.flex.justify-center.mb-4');
                            if (targetDiv) {
                                targetDiv.appendChild(script);
                            } else {
                                document.body.appendChild(script);
                            }
                        }
                        setTimeout(loadAdScript, delayInMilliseconds);
                    </script>
                </div>

                <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-x-4 gap-y-8"
                    id="video-grid">
                    <!-- Video cards  -->
                </div>
                
            </div>

            <!-- Video Player View (Updated) -->
            <div id="video-player-view" class="content-view" style="display: none;">
                <button id="video-player-back-btn"
                    class="mb-4 flex items-center gap-2 px-4 py-2 bg-primary hover:bg-indigo-600 rounded-lg text-white font-semibold transition-colors duration-200">
                    <svg class="w-5 h-5 fill-current" xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                        viewBox="0 0 24 24">
                        <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z" />
                    </svg>
                    Back to Videos
                </button>
                
                <!-- Ad Placement under the 'Back to Videos' button -->
                <div class="my-4">
                      <script type="text/javascript">
                    	atOptions = {
                    		'key' : 'c6affa5f0ae4df4d56203646aa9bf458',
                    		'format' : 'iframe',
                    		'height' : 50,
                    		'width' : 320,
                    		'params' : {}
                    	};
                    </script>
                    <script type="text/javascript" src="//institutionnounreverend.com/c6affa5f0ae4df4d56203646aa9bf458/invoke.js"></script>
                </div>
                
                <!-- NEW: Floating Circular Points Tracker UI -->
                <div id="circular-points-tracker" class="circular-progress-container hidden">
                    <div id="progress-circle" class="circular-progress">
                        <span id="progress-time-remaining" class="progress-value">60s</span>
                    </div>
                </div>
                <!-- END NEW: Floating Circular Points Tracker UI -->

                <div class="bg-card-bg p-0 rounded-xl shadow-md border border-slate-700">
                    <div class="aspect-video w-full rounded-xl overflow-hidden mb-4">
                        <!-- 'allow="autoplay"' attribute is added here, and autoplay will be added to URL in JS -->
                        <iframe id="video-iframe" src="" frameborder="0"
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                            allowfullscreen class="w-full h-full"></iframe>
                    </div>
                    
                    <h2 class="text-2xl font-semibold mb-1" id="video-player-title"></h2>
                    <p class="text-muted-text mb-4" id="video-player-description"></p>
                    
                    <div class="flex justify-between items-center p-4">
                        <button id="get-summary-btn"
                            class="action-btn px-4 py-2 bg-secondary hover:bg-pink-500 text-white font-semibold rounded-lg transition-colors duration-200 text-sm">
                            Get Summary ‚ú®
                        </button>
                        <div id="summary-output" class="text-sm text-muted-text"></div>
                    </div>

                    <!-- Ad 2 Placement (Below Get Summary Button) -->
                    <div class="mt-4">
                        <script async="async" data-cfasync="false" src="//institutionnounreverend.com/5fae19ca63dcfa0b73c6e2395f27545a/invoke.js"></script>
                        <div id="container-5fae19ca63dcfa0b73c6e2395f27545a"></div>
                    </div>
                </div>
            </div>

            <!-- Social Tasks View -->
            <div id="social-tasks-view" class="content-view" style="display: none;">
                <h2 class="text-xl font-semibold mb-4">Complete Social Tasks</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="social-tasks-grid">
                    <!-- Social task cards  -->
                    <div class="col-span-full text-center text-muted-text p-6">Loading tasks...</div>
                </div>
            </div>

            <!-- Points History View -->
            <div id="points-history-view" class="content-view" style="display: none;">
                <div class="bg-card-bg p-6 rounded-xl shadow-md border border-slate-700">
                    <h2 class="text-xl font-semibold mb-4">Points History</h2>
                    <p class="text-muted-text mb-6">A record of all the points you have earned.</p>
                    <div class="overflow-x-auto rounded-lg">
                        <table class="w-full text-left table-auto">
                            <thead class="bg-slate-700 text-slate-400 uppercase text-xs">
                                <tr>
                                    <th class="p-4 rounded-tl-lg">Date</th>
                                    <th class="p-4">Description</th>
                                    <th class="p-4 rounded-tr-lg">Points</th>
                                </tr>
                            </thead>
                            <tbody id="points-history-table" class="divide-y divide-slate-700">
                                <!-- Table rows -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Invite & Earn View  -->
            
 <div id="invite-and-earn-view" class="content-view" style="display: none;">
                <div class="bg-card-bg p-6 rounded-xl shadow-md border border-slate-700 mb-6">
                    <h2 class="text-xl font-semibold mb-4 text-primary">·Äû·Ä∞·ÄÑ·Äö·Ä∫·ÄÅ·Äª·ÄÑ·Ä∫·Ä∏·Äô·Äª·Ä¨·Ä∏·ÄÄ·Ä≠·ÄØ ·Äñ·Ä≠·Äê·Ä∫·ÄÅ·Ä±·Ä´·Ä∫·Äï·Äº·ÄÆ·Ä∏ ·Ä°·Äô·Äæ·Äê·Ä∫·Äô·Äª·Ä¨·Ä∏·Äõ·Äö·Ä∞·Äï·Ä´ (Invite & Earn)</h2>
                    <p class="text-muted-text mb-6">·Äû·ÄÑ·Ä∫·Åè ·ÄÄ·Ä≠·ÄØ·Äö·Ä∫·Äï·Ä≠·ÄØ·ÄÑ·Ä∫·Äñ·Ä≠·Äê·Ä∫·ÄÅ·Ä±·Ä´·Ä∫·ÄÄ·ÄØ·Äí·Ä∫ (Referral Code) ·ÄÄ·Ä≠·ÄØ ·Ä°·Äû·ÄØ·Ä∂·Ä∏·Äï·Äº·ÄØ·Åç ·Äû·Ä∞·ÄÑ·Äö·Ä∫·ÄÅ·Äª·ÄÑ·Ä∫·Ä∏·Äô·Äª·Ä¨·Ä∏·ÄÄ·Ä≠·ÄØ ·Äñ·Ä≠·Äê·Ä∫·ÄÅ·Ä±·Ä´·Ä∫·Äï·Ä´·Åã ·Äû·Ä∞·ÄÑ·Äö·Ä∫·ÄÅ·Äª·ÄÑ·Ä∫·Ä∏·Äê·ÄÖ·Ä∫·Ä¶·Ä∏ ·Ä°·ÄÄ·Ä±·Ä¨·ÄÑ·Ä∑·Ä∫·Äñ·ÄΩ·ÄÑ·Ä∑·Ä∫·Äê·Ä≠·ÄØ·ÄÑ·Ä∫·Ä∏ ·Ä°·Äô·Äæ·Äê·Ä∫ **50** ·Äõ·Äõ·Äæ·Ä≠·Äô·Ää·Ä∫·Åã</p>
                    <!-- UPDATED  50 -->

                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium mb-2">·Äû·ÄÑ·Ä∑·Ä∫·Äõ·Ä≤·Ä∑ ·Äñ·Ä≠·Äê·Ä∫·ÄÅ·Ä±·Ä´·Ä∫·ÄÄ·ÄØ·Äí·Ä∫ (Your Referral Code)</label>
                            <div class="flex">
                                <input type="text" id="referral-code-input" value="Loading..." readonly
                                    class="flex-grow px-4 py-3 rounded-l-lg bg-slate-700 border border-slate-600 focus:outline-none focus:ring-2 focus:ring-primary text-text-color font-mono tracking-wider">
                                <button id="copy-referral-btn"
                                    class="px-4 py-3 bg-accent-green hover:bg-emerald-600 rounded-r-lg text-white font-semibold transition-colors duration-200 flex items-center gap-2">
                                    <svg class="w-5 h-5 fill-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg>
                                    Copy
                                </button>
                            </div>
                            <p id="copy-status" class="text-sm mt-2 text-primary" style="display:none;">·ÄÄ·ÄØ·Äí·Ä∫·ÄÄ·Ä∞·Ä∏·Äö·Ä∞·Äï·Äº·ÄÆ·Ä∏·Äï·Ä´·Äï·Äº·ÄÆ·Åã</p>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium mb-2">·Äû·ÄÑ·Ä∑·Ä∫·Äõ·Ä≤·Ä∑ ·Äñ·Ä≠·Äê·Ä∫·ÄÅ·Ä±·Ä´·Ä∫·Äú·ÄÑ·Ä∑·Ä∫ (Your Referral Link)</label>
                            <div class="flex">
                                <input type="text" id="referral-link-input" value="Loading..." readonly
                                    class="flex-grow px-4 py-3 rounded-l-lg bg-slate-700 border border-slate-600 focus:outline-none focus:ring-2 focus:ring-primary text-text-color text-sm">
                                <button id="copy-link-btn"
                                    class="px-4 py-3 bg-accent-green hover:bg-emerald-600 rounded-r-lg text-white font-semibold transition-colors duration-200 flex items-center gap-2">
                                    <svg class="w-5 h-5 fill-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg>
                                    Copy
                                </button>
                            </div>
                        </div>

                        <div class="pt-4">
                            <h3 class="text-lg font-semibold mb-2">·Äñ·Ä≠·Äê·Ä∫·ÄÅ·Ä±·Ä´·Ä∫·Äô·Äæ·ÄØ ·Äô·Äæ·Äê·Ä∫·Äê·Äô·Ä∫·Ä∏ (Invite History)</h3>
                            <div class="bg-slate-700/50 p-4 rounded-lg overflow-x-auto">
                                <table class="w-full text-left table-auto">
                                    <thead class="text-slate-400 uppercase text-xs">
                                        <tr>
                                            <th class="p-2">·Ä°·Äû·ÄØ·Ä∂·Ä∏·Äï·Äº·ÄØ·Äû·Ä∞</th>
                                            <th class="p-2">·Äõ·Äõ·Äæ·Ä≠·ÄÅ·Ä≤·Ä∑·Äû·Ää·Ä∑·Ä∫ ·Ä°·Äô·Äæ·Äê·Ä∫</th>
                                        </tr>
                                    </thead>
                                    <tbody id="invited-users-table">
                                        <tr><td colspan="2" class="p-2 text-center text-muted-text">·Äû·Ä∞·ÄÑ·Äö·Ä∫·ÄÅ·Äª·ÄÑ·Ä∫·Ä∏·Äô·Äª·Ä¨·Ä∏ ·Äñ·Ä≠·Äê·Ä∫·ÄÅ·Ä±·Ä´·Ä∫·ÄÅ·Äº·ÄÑ·Ä∫·Ä∏ ·Äô·Äõ·Äæ·Ä≠·Äû·Ä±·Ä∏·Äï·Ä´·Åã</td></td></tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- End Invite & Earn View-->

            <!-- About View  -->
            <div id="about-view" class="content-view" style="display: none;">
                <div class="bg-card-bg p-6 rounded-xl shadow-md border border-slate-700">
                    <h2 class="text-xl font-semibold mb-4">Ping Rewards ·Ä°·ÄÄ·Äº·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏</h2>
                    <p class="text-muted-text mb-6">Ping Rewards ·ÄÄ·Ä≠·ÄØ ·Ä°·Äû·ÄØ·Ä∂·Ä∏·Äï·Äº·ÄØ·Äï·ÄØ·Ä∂·Åä ·ÄÖ·Ää·Ä∫·Ä∏·ÄÄ·Äô·Ä∫·Ä∏·ÄÅ·Äª·ÄÄ·Ä∫·Äô·Äª·Ä¨·Ä∏ ·Äî·Äæ·ÄÑ·Ä∑·Ä∫ ·Ä°·ÄÅ·Äº·Ä¨·Ä∏
                        ·Äû·Ä≠·Äû·ÄÑ·Ä∑·Ä∫·Äû·Ää·Ä∑·Ä∫ ·Ä°·ÄÅ·Äª·ÄÄ·Ä∫·Ä°·Äú·ÄÄ·Ä∫·Äô·Äª·Ä¨·Ä∏·Åã</p>
                    <div class="prose max-w-none text-text-color space-y-4">
                        <h3 class="text-lg font-bold text-white">·ÅÅ·Åã Web App ·Ä°·Äû·ÄØ·Ä∂·Ä∏·Äï·Äº·ÄØ·Äî·Ää·Ä∫·Ä∏</h3>
                        <p>Ping Rewards ·Äû·Ää·Ä∫ ·Äó·ÄÆ·Äí·ÄÆ·Äö·Ä≠·ÄØ·Äô·Äª·Ä¨·Ä∏·ÄÄ·Ä≠·ÄØ ·ÄÄ·Äº·Ää·Ä∑·Ä∫·Äõ·Äæ·ÄØ·ÄÅ·Äº·ÄÑ·Ä∫·Ä∏·Åä Social Media Tasks ·Äô·Äª·Ä¨·Ä∏·ÄÄ·Ä≠·ÄØ ·Äú·ÄØ·Äï·Ä∫·ÄÜ·Ä±·Ä¨·ÄÑ·Ä∫·ÄÅ·Äº·ÄÑ·Ä∫·Ä∏·Äñ·Äº·ÄÑ·Ä∑·Ä∫
                            ·Ä°·Äô·Äæ·Äê·Ä∫·Äô·Äª·Ä¨·Ä∏ ·ÄÖ·ÄØ·ÄÜ·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·Äî·Ä≠·ÄØ·ÄÑ·Ä∫·Äû·Ä±·Ä¨ Web App ·Äê·ÄÖ·Ä∫·ÄÅ·ÄØ·Äñ·Äº·ÄÖ·Ä∫·Äû·Ää·Ä∫·Åã</p>
                        <ul class="list-disc list-inside space-y-1">
                            <li>**Login:** Google Account ·Äñ·Äº·ÄÑ·Ä∑·Ä∫ ·Ä°·Äú·ÄΩ·Äö·Ä∫·Äê·ÄÄ·Ä∞ ·Äù·ÄÑ·Ä∫·Äõ·Ä±·Ä¨·ÄÄ·Ä∫·Äî·Ä≠·ÄØ·ÄÑ·Ä∫·Äï·Ä´·Äû·Ää·Ä∫·Åã</li>
                            <li>**Watch Videos:** "Watch Videos" tab ·Äê·ÄΩ·ÄÑ·Ä∫ ·Äó·ÄÆ·Äí·ÄÆ·Äö·Ä≠·ÄØ·Äô·Äª·Ä¨·Ä∏ ·Äõ·ÄΩ·Ä±·Ä∏·ÄÅ·Äª·Äö·Ä∫·ÄÄ·Äº·Ää·Ä∑·Ä∫·Äõ·Äæ·ÄØ·ÄÅ·Äº·ÄÑ·Ä∫·Ä∏·Äñ·Äº·ÄÑ·Ä∑·Ä∫
                                ·Ä°·Äô·Äæ·Äê·Ä∫·Äô·Äª·Ä¨·Ä∏ ·Äõ·Äö·Ä∞·Äï·Ä´·Åã</li>
                            <li>**Social Tasks:** "Social Tasks" tab ·Äê·ÄΩ·ÄÑ·Ä∫ ·Äñ·Ä±·Ä¨·Ä∫·Äï·Äº·Äë·Ä¨·Ä∏·Äû·Ä±·Ä¨ Social Media Task ·Äô·Äª·Ä¨·Ä∏·ÄÄ·Ä≠·ÄØ
                                ·Äê·ÄÖ·Ä∫·ÄÄ·Äº·Ä≠·Äô·Ä∫·Äú·ÄØ·Äï·Ä∫·ÄÜ·Ä±·Ä¨·ÄÑ·Ä∫·ÄÅ·Äº·ÄÑ·Ä∫·Ä∏·Äñ·Äº·ÄÑ·Ä∑·Ä∫ ·Ä°·Äô·Äæ·Äê·Ä∫·Äô·Äª·Ä¨·Ä∏ ·Äõ·Äö·Ä∞·Äî·Ä≠·ÄØ·ÄÑ·Ä∫·Äï·Ä´·Äû·Ää·Ä∫·Åã</li>
                            <li>**Cash Out:** ·Ä°·Äô·Äæ·Äê·Ä∫·Äï·Ä±·Ä´·ÄÑ·Ä∫·Ä∏ 5000 ·Äï·Äº·Ää·Ä∑·Ä∫·Äï·Ä´·ÄÄ</li>
                            <li>**WavePay, KBZ Pay , Binance ·Äô·Äª·Ä¨·Ä∏·Äñ·Äº·ÄÑ·Ä∑·Ä∫ Cash Out ·Äï·Äº·ÄØ·Äú·ÄØ·Äï·Ä∫·Äî·Ä≠·ÄØ·ÄÑ·Ä∫·Äï·Ä´·Äû·Ää·Ä∫·Åã</li>
                        </ul>
                        <h3 class="text-lg font-bold text-white">·ÅÇ·Åã ·ÄÖ·Ää·Ä∫·Ä∏·ÄÄ·Äô·Ä∫·Ä∏·ÄÅ·Äª·ÄÄ·Ä∫·Äô·Äª·Ä¨·Ä∏</h3>
                       <ul class="list-disc list-inside space-y-1">
                            <li>·Äê·ÄÖ·Ä∫·Ä¶·Ä∏·Äú·Äª·Äæ·ÄÑ·Ä∫ Account ·Äê·ÄÖ·Ä∫·ÄÅ·ÄØ·Äû·Ä¨ ·Ä°·Äû·ÄØ·Ä∂·Ä∏·Äï·Äº·ÄØ·Äõ·Äô·Ää·Ä∫·Åã Account ·Ä°·Äê·ÄØ·Äô·Äª·Ä¨·Ä∏·Äñ·Äº·ÄÑ·Ä∑·Ä∫ ·Ä°·Äú·ÄΩ·Ä≤·Äû·ÄØ·Ä∂·Ä∏·ÄÖ·Ä¨·Ä∏·Äï·Äº·ÄØ·Äú·ÄØ·Äï·Ä∫·Äï·Ä´·ÄÄ ·Ä°·ÄÄ·Ä±·Ä¨·ÄÑ·Ä∑·Ä∫·ÄÄ·Ä≠·ÄØ ·Äï·Ä≠·Äê·Ä∫·Äû·Ä≠·Äô·Ä∫·Ä∏·Äô·Ää·Ä∫·Åã</li>
                            <li>Payment method ·Äê·ÄÖ·Ä∫·ÄÅ·ÄØ·ÄÄ·Ä≠·ÄØ Account ·Äê·ÄÖ·Ä∫·ÄÅ·ÄØ·Äê·Ää·Ä∫·Ä∏·Äñ·Äº·ÄÑ·Ä∑·Ä∫·Äû·Ä¨ ·ÄÅ·Äª·Ä≠·Äê·Ä∫·ÄÜ·ÄÄ·Ä∫ ·Ä°·Äû·ÄØ·Ä∂·Ä∏·Äï·Äº·ÄØ·ÄÅ·ÄΩ·ÄÑ·Ä∑·Ä∫·Äï·Äº·ÄØ·Äï·Ä´·Äû·Ää·Ä∫·Åã</li>
                            <li>Fake View, Bot ·Äô·Äª·Ä¨·Ä∏·ÄÄ·Ä≠·ÄØ ·Ä°·Äû·ÄØ·Ä∂·Ä∏·Äï·Äº·ÄØ·ÄÅ·Äº·ÄÑ·Ä∫·Ä∏ ·ÄÅ·ÄΩ·ÄÑ·Ä∑·Ä∫·Äô·Äï·Äº·ÄØ·Äï·Ä´·Åã ·Äê·ÄΩ·Ä±·Ä∑·Äõ·Äæ·Ä≠·Äï·Ä´·ÄÄ ·Ä°·Äõ·Ä±·Ä∏·Äö·Ä∞·ÄÜ·Ä±·Ä¨·ÄÑ·Ä∫·Äõ·ÄΩ·ÄÄ·Ä∫·Äô·Ää·Ä∫·Åã</li>
                            <li>Cash Out ·Äï·Äº·ÄØ·Äú·ÄØ·Äï·Ä∫·Äõ·Ä¨·Äê·ÄΩ·ÄÑ·Ä∫ ·Äû·ÄÑ·Ä∫·Åè Payment Information ·ÄÄ·Ä≠·ÄØ ·Äô·Äæ·Äî·Ä∫·ÄÄ·Äî·Ä∫·ÄÖ·ÄΩ·Ä¨ ·Äñ·Äº·Ää·Ä∑·Ä∫·Äû·ÄΩ·ÄÑ·Ä∫·Ä∏·Äõ·Äô·Ää·Ä∫·Åã</li>
                            <li>·Äô·ÄÆ·Äí·ÄÆ·Äö·Ä¨ Task ·Äô·Äª·Ä¨·Ä∏·Äê·ÄΩ·ÄÑ·Ä∫ Comment ·Äï·Ä±·Ä∏·Äï·Ä≠·ÄØ·Ä∑·Äû·Ää·Ä∑·Ä∫·Ä°·ÄÅ·Ä´ ·Äû·ÄÑ·Ä∫·Åè Users name ·Ä°·ÄÖ ·ÄÖ·Ä¨·Äú·ÄØ·Ä∂·Ä∏·Äî·Äæ·ÄÑ·Ä∑·Ä∫ ·ÄÖ·Äê·ÄÑ·Ä∫·ÄÄ·Ä¨ ·Äõ·Ä±·Ä∏·Äû·Ä¨·Ä∏·Äõ·Äô·Ää·Ä∫·Åã</li>
                            <li>Subscribe ·Äî·Äæ·ÄÑ·Ä∑·Ä∫ Follow Tasks ·Äô·Äª·Ä¨·Ä∏·ÄÄ·Ä≠·ÄØ ·Äê·ÄÄ·Äö·Ä∫·Äê·Äô·Ä∫·Ä∏ ·Äú·ÄØ·Äï·Ä∫·ÄÜ·Ä±·Ä¨·ÄÑ·Ä∫·Äõ·Äô·Ää·Ä∫·Åã ·Äô·Äü·ÄØ·Äê·Ä∫·Äï·Ä´·ÄÄ ·Ä°·Äõ·Ä±·Ä∏·Äö·Ä∞·ÄÅ·Ä∂·Äõ·Äô·Ää·Ä∫·Åã</li>
                            <li>·ÄÖ·Ää·Ä∫·Ä∏·ÄÄ·Äô·Ä∫·Ä∏·Äô·Äª·Ä¨·Ä∏·ÄÄ·Ä≠·ÄØ ·Äô·Äú·Ä≠·ÄØ·ÄÄ·Ä∫·Äî·Ä¨·Äï·Ä´·ÄÄ·Åä ·Ä°·Äô·Äæ·Äê·Ä∫·Äô·Äª·Ä¨·Ä∏·ÄÄ·Ä≠·ÄØ ·Äû·Ä≠·Äô·Ä∫·Ä∏·ÄÜ·Ää·Ä∫·Ä∏·ÄÅ·Äº·ÄÑ·Ä∫·Ä∏ ·Äû·Ä≠·ÄØ·Ä∑·Äô·Äü·ÄØ·Äê·Ä∫ ·Ä°·ÄÄ·Ä±·Ä¨·ÄÑ·Ä∑·Ä∫·ÄÄ·Ä≠·ÄØ ·Äï·Ä≠·Äê·Ä∫·Äû·Ä≠·Äô·Ä∫·Ä∏·ÄÅ·Äº·ÄÑ·Ä∫·Ä∏ ·Äï·Äº·ÄØ·Äú·ÄØ·Äï·Ä∫·Äï·Ä´·Äô·Ää·Ä∫·Åã</li>
                       </ul>
                    </div>
                </div>
            </div>

            <!-- Admin Dashboard View -->
            <div id="admin-dashboard-view" class="content-view" style="display: none;">
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-6" id="admin-dashboard-grid">
                    <div
                        class="stat-card bg-card-bg p-6 rounded-xl shadow-md border border-slate-700 flex items-center">
                        <div
                            class="flex-shrink-0 w-12 h-12 rounded-full bg-primary/20 flex items-center justify-center mr-4">
                            <svg class="w-6 h-6 fill-primary" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                                <path
                                    d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z" />
                            </svg>
                        </div>
                        <div class="flex-grow">
                            <h3 class="text-lg font-semibold text-muted-text">Total Users</h3>
                            <div class="text-3xl font-bold" id="admin-total-users-value">0</div>
                        </div>
                    </div>
                    <div
                        class="stat-card bg-card-bg p-6 rounded-xl shadow-md border border-slate-700 flex items-center">
                        <div
                            class="flex-shrink-0 w-12 h-12 rounded-full bg-accent-purple/20 flex items-center justify-center mr-4">
                            <svg class="w-6 h-6 fill-accent-purple" xmlns="http://www.w3.org/2000/svg"
                                viewBox="0 0 24 24">
                                <path
                                    d="M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z" />
                            </svg>
                        </div>
                        <div class="flex-grow">
                            <h3 class="text-lg font-semibold text-muted-text">Total Videos</h3>
                            <div class="text-3xl font-bold" id="admin-total-videos-value">0</div>
                        </div>
                    </div>
                    <div
                        class="stat-card bg-card-bg p-6 rounded-xl shadow-md border border-slate-700 flex items-center">
                        <div
                            class="flex-shrink-0 w-12 h-12 rounded-full bg-accent-green/20 flex items-center justify-center mr-4">
                            <svg class="w-6 h-6 fill-accent-green" xmlns="http://www.w3.org/2000/svg"
                                viewBox="0 0 24 24">
                                <path
                                    d="M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4V8h16v10zm-12-7h4v2H8v-2zm-2-2v6h12V6H6z" />
                            </svg>
                        </div>
                        <div class="flex-grow">
                            <h3 class="text-lg font-semibold text-muted-text">Total Points Earned</h3>
                            <div class="text-3xl font-bold" id="admin-total-points-earned-value">0</div>
                        </div>
                    </div>
                    <div class="stat-card bg-card-bg p-6 rounded-xl shadow-md border border-slate-700 flex items-center cursor-pointer"
                        id="admin-payouts-card">
                        <div
                            class="flex-shrink-0 w-12 h-12 rounded-full bg-accent-orange/20 flex items-center justify-center mr-4">
                            <svg class="w-6 h-6 fill-accent-orange" xmlns="http://www.w3.org/2000/svg"
                                viewBox="0 0 24 24">
                                <path
                                    d="M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4V8h16v10zm-12-7h4v2H8v-2zm-2-2v6h12V6H6z" />
                            </svg>
                        </div>
                        <div class="flex-grow">
                            <h3 class="text-lg font-semibold text-muted-text">Total Payouts</h3>
                            <div class="text-3xl font-bold" id="admin-total-payouts-value">$0</div>
                        </div>
                    </div>
                </div>

                <div class="bg-card-bg p-6 rounded-xl shadow-md border border-slate-700">
                    <h2 class="text-xl font-semibold mb-4">Weekly Watch History (Hours)</h2>
                    <div class="relative h-64 flex items-end pb-8 border-l-2 border-b-2 border-slate-600">
                        <span class="absolute left-0 top-0 text-sm text-muted-text -ml-6 -mt-2">8</span>
                        <span class="absolute left-0 bottom-0 text-sm text-muted-text -ml-6 -mb-4">0</span>
                        <div class="bar-chart flex items-end h-full w-full" id="weekly-watch-chart">
                            <!-- Bars -->
                            <div class="w-1/7 h-1/2 mx-1 bg-primary rounded-t-full transition-all duration-500 ease-in-out relative group"
                                style="height: 50%;">
                                <span
                                    class="absolute -bottom-6 left-1/2 transform -translate-x-1/2 text-sm text-muted-text">Mon</span>
                            </div>
                            <div class="w-1/7 h-[38%] mx-1 bg-primary rounded-t-full transition-all duration-500 ease-in-out relative group"
                                style="height: 38%;">
                                <span
                                    class="absolute -bottom-6 left-1/2 transform -translate-x-1/2 text-sm text-muted-text">Tue</span>
                            </div>
                            <div class="w-1/7 h-[60%] mx-1 bg-primary rounded-t-full transition-all duration-500 ease-in-out relative group"
                                style="height: 60%;">
                                <span
                                    class="absolute -bottom-6 left-1/2 transform -translate-x-1/2 text-sm text-muted-text">Wed</span>
                            </div>
                            <div class="w-1/7 h-[54%] mx-1 bg-primary rounded-t-full transition-all duration-500 ease-in-out relative group"
                                style="height: 54%;">
                                <span
                                    class="absolute -bottom-6 left-1/2 transform -translate-x-1/2 text-sm text-muted-text">Thu</span>
                            </div>
                            <div class="w-1/7 h-[70%] mx-1 bg-primary rounded-t-full transition-all duration-500 ease-in-out relative group"
                                style="height: 70%;">
                                <span
                                    class="absolute -bottom-6 left-1/2 transform -translate-x-1/2 text-sm text-muted-text">Fri</span>
                            </div>
                            <div class="w-1/7 h-[98%] mx-1 bg-primary rounded-t-full transition-all duration-500 ease-in-out relative group"
                                style="height: 98%;">
                                <span
                                    class="absolute -bottom-6 left-1/2 transform -translate-x-1/2 text-sm text-muted-text">Sat</span>
                            </div>
                            <div class="w-1/7 h-[85%] mx-1 bg-primary rounded-t-full transition-all duration-500 ease-in-out relative group"
                                style="height: 85%;">
                                <span
                                    class="absolute -bottom-6 left-1/2 transform -translate-x-1/2 text-sm text-muted-text">Sun</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Manage Videos View (Updated with Search) -->
            <div id="manage-videos-view" class="content-view" style="display: none;">
                <div class="bg-card-bg p-6 rounded-xl shadow-md border border-slate-700">
                    <div class="flex flex-col sm:flex-row justify-between items-center mb-6 gap-4">
                        <h2 class="text-xl font-semibold whitespace-nowrap">Manage Videos</h2>
                        <input type="text" id="manage-videos-search"
                            class="flex-grow max-w-md px-4 py-2 rounded-lg bg-slate-700 border border-slate-600 focus:outline-none focus:ring-2 focus:ring-primary placeholder-muted-text"
                            placeholder="Search videos by title or category...">
                        <button id="add-video-btn"
                            class="px-4 py-2 bg-primary hover:bg-indigo-600 rounded-lg text-white font-semibold transition-colors duration-200 whitespace-nowrap">
                            Add New Video
                        </button>
                    </div>
                    <div class="overflow-x-auto rounded-lg">
                        <table class="w-full text-left table-auto">
                            <thead class="bg-slate-700 text-slate-400 uppercase text-xs">
                                <tr>
                                    <th class="p-4 rounded-tl-lg">Title</th>
                                    <th class="p-4">Category</th>
                                    <th class="p-4">Points</th>
                                    <th class="p-4 rounded-tr-lg">Actions</th>
                                </tr>
                            </thead>
                            <tbody id="videos-table" class="divide-y divide-slate-700">
                                <!-- Table rows -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Manage Social Tasks View (Updated with Search) -->
            <div id="manage-social-tasks-view" class="content-view" style="display: none;">
                <div class="bg-card-bg p-6 rounded-xl shadow-md border border-slate-700">
                    <div class="flex flex-col sm:flex-row justify-between items-center mb-6 gap-4">
                        <h2 class="text-xl font-semibold whitespace-nowrap">Manage Social Tasks</h2>
                        <input type="text" id="manage-social-tasks-search"
                            class="flex-grow max-w-md px-4 py-2 rounded-lg bg-slate-700 border border-slate-600 focus:outline-none focus:ring-2 focus:ring-primary placeholder-muted-text"
                            placeholder="Search social tasks by title or platform...">
                        <button id="add-social-task-btn"
                            class="px-4 py-2 bg-primary hover:bg-indigo-600 rounded-lg text-white font-semibold transition-colors duration-200 whitespace-nowrap">
                            Add New Task
                        </button>
                    </div>
                    <div class="overflow-x-auto rounded-lg">
                        <table class="w-full text-left table-auto">
                            <thead class="bg-slate-700 text-slate-400 uppercase text-xs">
                                <tr>
                                    <th class="p-4 rounded-tl-lg">Task Title</th>
                                    <th class="p-4">Platform</th>
                                    <th class="p-4">Link</th>
                                    <th class="p-4">Points</th>
                                    <th class="p-4 rounded-tr-lg">Actions</th>
                                </tr>
                            </thead>
                            <tbody id="social-tasks-table" class="divide-y divide-slate-700">
                                <!-- Table rows  -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Manage Users View (Updated with Search) -->
            <div id="manage-users-view" class="content-view" style="display: none;">
                <div class="bg-card-bg p-6 rounded-xl shadow-md border border-slate-700">
                    <h2 class="text-xl font-semibold mb-2">Manage Users</h2>
                    <input type="text" id="manage-users-search"
                        class="w-full px-4 py-2 mb-4 rounded-lg bg-slate-700 border border-slate-600 focus:outline-none focus:ring-2 focus:ring-primary placeholder-muted-text"
                        placeholder="Search users by name, email or ID...">
                    <p class="text-muted-text mb-6">View user data, manage status, and edit information.</p>
                    <div class="overflow-x-auto rounded-lg">
                        <table class="w-full text-left table-auto">
                            <thead class="bg-slate-700 text-slate-400 uppercase text-xs">
                                <tr>
                                    <th class="p-4 rounded-tl-lg">User ID</th>
                                    <th class="p-4">Name</th>
                                    <th class="p-4">Email</th>
                                    <th class="p-4">Role</th>
                                    <th class="p-4">Points</th>
                                    <th class="p-4 rounded-tr-lg">Actions</th>
                                </tr>
                            </thead>
                            <tbody id="users-table-body" class="divide-y divide-slate-700">
                                <!-- User rows  -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            
            <!-- NEW: Floating Scroll-to-Top Rocket Button (Hidden by default) -->
            <button id="scroll-to-top-btn"
                class="hidden fixed bottom-6 right-6 z-50 p-4 bg-accent-orange hover:bg-amber-600 rounded-full shadow-lg transition-all duration-300 ease-in-out transform hover:scale-110 active:scale-95">
                <!-- Rocket/Up Arrow SVG -->
                <svg class="w-6 h-6 text-white transform rotate-315" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 2l-5 5h3v7h4V7h3l-5-5zM4 20h16v2H4z"/>
                </svg>
            </button>
            <!-- END NEW: Floating Scroll-to-Top Rocket Button -->
        </div>

        <!-- Modal for Cash Out Confirmation Message -->
        <div id="cashout-message-modal"
            class="modal-overlay fixed inset-0 flex justify-center items-center z-[1000] hidden">
            <div class="modal-content bg-card-bg p-8 rounded-xl w-11/12 max-w-lg shadow-2xl border border-slate-700">
                <h3 class="text-xl font-semibold mb-4">Cash Out Request</h3>
                <p id="cashout-message-text" class="text-muted-text mb-6">You need 5000 points to cash out.</p>
                <div class="flex justify-end gap-2">
                    <button type="button"
                        class="px-4 py-2 bg-slate-600 hover:bg-slate-500 rounded-lg text-white font-semibold transition-colors duration-200"
                        id="cashout-message-close-btn">Close</button>
                </div>
            </div>
        </div>

        <!-- Modal for Delete Confirmation -->
        <div id="delete-confirm-modal"
            class="modal-overlay fixed inset-0 flex justify-center items-center z-[1000] hidden">
            <div class="modal-content bg-card-bg p-8 rounded-xl w-11/12 max-w-lg shadow-2xl border border-slate-700">
                <h3 id="delete-modal-title" class="text-xl font-semibold mb-4">Are you sure you want to delete this?
                </h3>
                <p class="text-muted-text mb-6">This action cannot be undone.</p>
                <div class="flex justify-end gap-2">
                    <button type="button"
                        class="cancel-btn px-4 py-2 bg-slate-600 hover:bg-slate-500 rounded-lg text-white font-semibold transition-colors duration-200">Cancel</button>
                    <button type="button"
                        class="px-4 py-2 bg-red-600 hover:bg-red-500 rounded-lg text-white font-semibold transition-colors duration-200"
                        id="confirm-delete-btn">Delete</button>
                </div>
            </div>
        </div>

        <!-- Modal for Viewing User History / Payout History -->
        <div id="history-modal" class="modal-overlay fixed inset-0 flex justify-center items-center z-[1000] hidden">
            <div class="modal-content bg-card-bg p-8 rounded-xl w-11/12 max-w-3xl shadow-2xl border border-slate-700">
                <h3 id="history-modal-title" class="text-xl font-semibold mb-4"></h3>
                <div id="history-modal-content" class="overflow-y-auto max-h-[70vh] rounded-lg">
                    <table class="w-full text-left table-auto">
                        <thead class="bg-slate-700 text-slate-400 uppercase text-xs">
                            <tr id="history-table-header">
                                <!-- Table headers  -->
                            </tr>
                        </thead>
                        <tbody id="history-table-body" class="divide-y divide-slate-700">
                            <!-- History rows  -->
                        </tbody>
                    </table>
                </div>
                <div class="flex justify-end gap-2 mt-6">
                    <button type="button"
                        class="px-4 py-2 bg-slate-600 hover:bg-slate-500 rounded-lg text-white font-semibold transition-colors duration-200"
                        id="history-modal-close-btn">Close</button>
                </div>
            </div>
        </div>

        <!-- Modal for Adding/Editing Videos  -->
        <div id="add-video-modal" class="modal-overlay fixed inset-0 flex justify-center items-center z-[1000] hidden">
            <div class="modal-content bg-card-bg p-8 rounded-xl w-11/12 max-w-lg shadow-2xl border border-slate-700">
                <h3 id="modal-title" class="text-xl font-semibold mb-4">Add New Video</h3>
                <form id="add-video-form" class="modal-form space-y-4">
                    <div>
                        <label for="video-title" class="block text-sm font-medium mb-1">Video Title</label>
                        <input type="text" id="video-title" name="videoTitle" required
                            class="w-full px-4 py-2 rounded-lg bg-slate-700 border border-slate-600 focus:outline-none focus:ring-2 focus:ring-primary">
                    </div>
                    <div>
                        <label for="video-description" class="block text-sm font-medium mb-1">Description</label>
                        <textarea id="video-description" name="videoDescription" rows="3" required
                            class="w-full px-4 py-2 rounded-lg bg-slate-700 border border-slate-600 focus:outline-none focus:ring-2 focus:ring-primary"></textarea>
                    </div>
                    <div>
                        <label for="video-category" class="block text-sm font-medium mb-1">Category</label>
                        <select id="video-category" name="videoCategory" required
                            class="w-full px-4 py-2 rounded-lg bg-slate-700 border border-slate-600 focus:outline-none focus:ring-2 focus:ring-primary">
                            <option value="YouTube">YouTube</option>
                            <option value="TikTok">TikTok</option>
                            <option value="Facebook">Facebook</option>
                            <option value="Nature">Nature</option>
                            <option value="Education">Education</option>
                            <option value="Travel">Travel</option>
                            <option value="Food">Food</option>
                            <option value="Gaming">Gaming</option>
                        </select>
                    </div>
                    <div>
                        <label for="video-url" class="block text-sm font-medium mb-1">Video URL (YouTube Embed
                            Link)</label>
                        <input type="text" id="video-url" name="videoUrl" required
                            class="w-full px-4 py-2 rounded-lg bg-slate-700 border border-slate-600 focus:outline-none focus:ring-2 focus:ring-primary">
                    </div>
                    <div>
                        <label for="video-points" class="block text-sm font-medium mb-1">Points (Legacy Field - Not used for earning rate)</label>
                        <input type="number" id="video-points" name="videoPoints"
                            class="w-full px-4 py-2 rounded-lg bg-slate-700 border border-slate-600 focus:outline-none focus:ring-2 focus:ring-primary"
                            placeholder="Optional. Earning is 1pt/60s.">
                    </div>
                    <div>
                        <label for="watch-duration" class="block text-sm font-medium mb-1">Watch Duration (Seconds - MAX Earning Time)</label>
                        <input type="number" id="watch-duration" name="watchDuration" required
                            class="w-full px-4 py-2 rounded-lg bg-slate-700 border border-slate-600 focus:outline-none focus:ring-2 focus:ring-primary"
                            placeholder="Required. Sets the maximum time (in seconds) to earn points.">
                    </div>
                    <div class="flex justify-end gap-2 pt-4">
                        <button type="button"
                            class="cancel-btn px-4 py-2 bg-slate-600 hover:bg-slate-500 rounded-lg text-white font-semibold transition-colors duration-200">Cancel</button>
                        <button type="submit"
                            class="save-btn px-4 py-2 bg-primary hover:bg-indigo-600 rounded-lg text-white font-semibold transition-colors duration-200">Save</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Modal for Adding/Editing Social Tasks -->
        <div id="add-social-task-modal"
            class="modal-overlay fixed inset-0 flex justify-center items-center z-[1000] hidden">
            <div class="modal-content bg-card-bg p-8 rounded-xl w-11/12 max-w-lg shadow-2xl border border-slate-700">
                <h3 id="social-task-modal-title" class="text-xl font-semibold mb-4">Add New Social Task</h3>
                <form id="add-social-task-form" class="modal-form space-y-4">
                    <div>
                        <label for="social-task-title" class="block text-sm font-medium mb-1">Task Title</label>
                        <input type="text" id="social-task-title" name="taskTitle" required
                            class="w-full px-4 py-2 rounded-lg bg-slate-700 border border-slate-600 focus:outline-none focus:ring-2 focus:ring-primary">
                    </div>
                    <div>
                        <label for="social-task-platform" class="block text-sm font-medium mb-1">Platform</label>
                        <select id="social-task-platform" name="taskPlatform" required
                            class="w-full px-4 py-2 rounded-lg bg-slate-700 border border-slate-600 focus:outline-none focus:ring-2 focus:ring-primary">
                            <option value="YouTube">YouTube</option>
                            <option value="Facebook">Facebook</option>
                            <option value="TikTok">TikTok</option>
                            <option value="Telegram">Telegram</option>
                            <option value="Twitter">Twitter</option>
                            <option value="Web">Web</option>
                        </select>
                    </div>
                    <div>
                        <label for="social-task-link" class="block text-sm font-medium mb-1">Link URL</label>
                        <input type="url" id="social-task-link" name="taskLink" required
                            class="w-full px-4 py-2 rounded-lg bg-slate-700 border border-slate-600 focus:outline-none focus:ring-2 focus:ring-primary">
                    </div>
                    <div>
                        <label for="social-task-points" class="block text-sm font-medium mb-1">Points</label>
                        <input type="number" id="social-task-points" name="taskPoints" required
                            class="w-full px-4 py-2 rounded-lg bg-slate-700 border border-slate-600 focus:outline-none focus:ring-2 focus:ring-primary">
                    </div>
                    <div class="flex justify-end gap-2 pt-4">
                        <button type="button"
                            class="cancel-btn px-4 py-2 bg-slate-600 hover:bg-slate-500 rounded-lg text-white font-semibold transition-colors duration-200">Cancel</button>
                        <button type="submit"
                            class="save-btn px-4 py-2 bg-primary hover:bg-indigo-600 rounded-lg text-white font-semibold transition-colors duration-200">Save</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Cash Out Modal  -->
        <div id="cashout-modal" class="modal-overlay fixed inset-0 flex justify-center items-center z-[1000] hidden">
            <div class="modal-content bg-card-bg p-8 rounded-xl w-11/12 max-w-lg shadow-2xl border border-slate-700">
                <h3 class="text-xl font-semibold mb-4">Cash Out Request</h3>
                <form id="cashout-form" class="modal-form space-y-4">
                    <p class="text-muted-text">Please enter your payment details to receive your earnings.</p>
                    <div>
                        <label for="payment-method" class="block text-sm font-medium mb-1">Payment Method</label>
                        <select id="payment-method" name="paymentMethod"
                            class="w-full px-4 py-2 rounded-lg bg-slate-700 border border-slate-600 focus:outline-none focus:ring-2 focus:ring-primary">
                            <option value="KBZ Pay">KBZ Pay</option>
                            <option value="Wave Pay">Wave Pay</option>
                            <option value="Binance Pay">Binance Pay</option>
                        </select>
                    </div>
                    <div>
                        <label for="payout-amount" class="block text-sm font-medium mb-1">Amount ($)</label>
                        <input type="number" id="payout-amount" name="payoutAmount" value="0.00" readonly
                            class="w-full px-4 py-2 rounded-lg bg-slate-700 border border-slate-600 text-muted-text cursor-not-allowed">
                    </div>
                    <div class="flex justify-end gap-2 pt-4">
                        <button type="button"
                            class="cancel-btn px-4 py-2 bg-slate-600 hover:bg-slate-500 rounded-lg text-white font-semibold transition-colors duration-200">Cancel</button>
                        <button type="submit"
                            class="save-btn px-4 py-2 bg-primary hover:bg-indigo-600 rounded-lg text-white font-semibold transition-colors duration-200"
                            id="cashout-submit-btn">Submit Request</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

  <script src="https://telegram.org/js/telegram-web-app.js"></script>
<script>
    const tg = window.Telegram.WebApp;
    const user = tg.initDataUnsafe.user;
    const userId = user ? user.id : "1856743644"; 
    const backendUrl = "https://ping-rewards-bot.mr-ping2025.workers.dev"; // Slash ·Äô·Äï·Ä´·ÄÖ·Ä±·Äõ

    tg.expand();

    function showView(viewId) {
        document.querySelectorAll('.content-view').forEach(v => v.style.display = 'none');
        document.getElementById(viewId).style.display = 'block';
    }

    async function initApp() {
        try {
            const userRes = await fetch(`${backendUrl}/api/get-user?id=${userId}`);
            const userData = await userRes.json();

            if (userData && !userData.error) {
                document.getElementById('total-points-value').textContent = userData.points || 0;
                document.getElementById('welcome-message').textContent = `Welcome, ${userData.name}!`;
                
                // ·Ä°·ÄÄ·ÄØ·Äî·Ä∫·Äú·ÄØ·Ä∂·Ä∏·ÄÄ·Ä≠·ÄØ ·Äê·ÄÖ·Ä∫·ÄÅ·Ä´·Äê·Ää·Ä∫·Ä∏ ·ÄÄ·Äº·Ä≠·ÄØ·Äê·ÄÑ·Ä∫ Load ·Äú·ÄØ·Äï·Ä∫·Äë·Ä¨·Ä∏·Äô·Äö·Ä∫
                await loadVideos();
                await loadTasks();
                await loadHistory();
                
                showView('user-dashboard-view');
            } else {
                alert("Please register in the bot first!");
                tg.close();
            }
        } catch (err) { alert("Connection Error!"); }
    }

    // --- Watch Videos Loading ---
    async function loadVideos() {
        const res = await fetch(`${backendUrl}/api/get-videos`);
        const videos = await res.json();
        const grid = document.getElementById('video-grid');
        grid.innerHTML = videos.map(v => `
            <div class="video-card bg-card-bg p-4 rounded-xl border border-slate-700 cursor-pointer" onclick="playVideo('${v.id}', '${v.video_url}', '${v.title}')">
                <img src="https://img.youtube.com/vi/${getYouTubeId(v.video_url)}/hqdefault.jpg" class="w-full rounded-lg mb-2">
                <h3 class="font-semibold text-sm line-clamp-2">${v.title}</h3>
                <p class="text-xs text-muted-text mt-1">${v.category} ‚Ä¢ 1pt/60s</p>
            </div>
        `).join('');
    }

    // --- Social Tasks Loading ---
    async function loadTasks() {
        const res = await fetch(`${backendUrl}/api/get-tasks`);
        const tasks = await res.json();
        const grid = document.getElementById('social-tasks-grid');
        grid.innerHTML = tasks.map(t => `
            <div class="card bg-card-bg p-6 rounded-xl border border-slate-700 text-center">
                <h3 class="text-lg font-bold">${t.title}</h3>
                <p class="text-accent-green font-bold my-2">+${t.points} PTS</p>
                <a href="${t.link}" target="_blank" onclick="completeTask('${t.id}', ${t.points}, '${t.title}')" class="inline-block bg-primary px-6 py-2 rounded-lg text-white font-bold">Complete Task</a>
            </div>
        `).join('');
    }

    // --- Points History Loading ---
    async function loadHistory() {
        const res = await fetch(`${backendUrl}/api/get-history?id=${userId}`);
        const history = await res.json();
        const table = document.getElementById('points-history-table');
        table.innerHTML = history.map(h => `
            <tr>
                <td class="p-4 text-xs">${new Date(h.created_at).toLocaleDateString()}</td>
                <td class="p-4 text-sm">${h.description}</td>
                <td class="p-4 font-bold text-accent-green">+${h.points}</td>
            </tr>
        `).join('');
    }

    // --- Helper Functions ---
    async function completeTask(taskId, points, title) {
        await fetch(`${backendUrl}/api/award-points`, {
            method: 'POST',
            body: JSON.stringify({ userId, amount: points, desc: `Social Task: ${title}` })
        });
        alert("Points Awarded!");
        initApp();
    }

    function getYouTubeId(url) {
        const match = url.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/);
        return (match && match[2].length == 11) ? match[2] : null;
    }

    window.onload = initApp;
</script>

</body>

</html>
